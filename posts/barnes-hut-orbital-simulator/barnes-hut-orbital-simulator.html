<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Morten Lysgaard">
        <meta name="author" content="Morten Lysgaard">
        <title>Barnes & Hut orbital simulator</title>
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
              showMathMenu: false,
              jax: ["input/TeX","output/CommonHTML"],
              extensions: ["tex2jax.js"],
              messageStyle: "none",
                tex2jax: {
                  processEscapes: true,
                  ignoreClass: "tex2jax_ignore",
                  processClass: "math"
                },
              TeX: { 
                extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js","autobold.js"],
                Macros: { 
                    R: '{\\mathbb{R}}', 
                    N: '{\\mathbb{N}}', 
                    Z: '{\\mathbb{Z}}', 
                    C: '{\\mathbb{C}}', 
                    F: '{\\mathbb{F}}', 
                    argmin: '{\\mathop{\\operatorname*{arg\\,min}}}',
                    argmax: '{\\mathop{\\operatorname*{arg\\,max}}}',
                    mex: '{\\mathop{\\operatorname{mex}}}', 
                    lcm: '{\\mathop{\\operatorname{lcm}}}',
                    bigtriangleright: '{\\mathop{\\Large \\triangleright}}',
                    bigtriangleleft: '{\\mathop{\\Large \\triangleleft}}',
                    set: ['\\left\\{ #1 \\right\\}',1],
                    floor: ['\\left\\lfloor #1 \\right\\rfloor',1],
                    ceil:  ['\\left\\lceil #1 \\right\\rceil',1],
                    abs:  ['\\left| #1 \\right|',1]
                 } 
                },
            		"HTML-CSS": { fonts: ["STIX"] }
            });
        </script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
        <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="stylesheet" href="/css/default.css" />

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-24607697-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-24607697-1');
        </script>

    </head>
    <body class="tex2jax_ignore">
      <header class="hide-on-print">
          <div id="blog-title">
              <a href="/">Morten Lysgaard</a>
          </div>
          <nav>
              <ul>
                  <li><a href="/">Home</a></li>
                  <li><a href="/pages/numerical-solvers.html">Numerical solvers</a></li>
                  <li><a href="/pages/kontrol-lang.html">Programming Language Implementation</a></li>
                  <li><a href="/archive.html">Archive</a></li>
              </ul>
          </nav>
      </header>
      <article>
          <h1 id="article-title">Barnes & Hut orbital simulator</h1>
          <br/>
<div>
<p>After browsing Reddit one day I discovered a cool to me unknown algorithm, Barnes &amp; Hut. I found a explenation of it <a href="http://arborjs.org/docs/barnes-hut">here</a>. I got some spare time now because of a flu/fever attack so I thought why not try to make something fun out of it. I setteled on a n-body orbital simulator with collisions. The algorithms where quite easy to jot down in Haskell, but I really struggeled on the visualization. In the end I did it the easy way. Each step, an SVG is created. Then a little imagemagik and ffmpeg magic makes a movie of it. I'm quite happy with the end result but I'd love to get better visualization, maybe OpenGL. If someone has an idea mail me =)<br />
You can get the code from my <a href="https://github.com/molysgaard/BarnesHut">github</a>.<br />
Here's a video: <a href="http://mortenlysgaard.com/wordpress/wp-content/uploads/2011/06/orbit.mp4">orbit</a><br />
Update: I've managed to hack together an OpenGL visualizer. It's not very quick but it works for the purpose of demonstrating. I've also done some optimizations and profiling to get the code to run a bit faster, the updates source is on github.<br />
 <br />
PS. This post, and the code is written during a fever, so no refunds for eye-strain, errors etc. :P</p>

</div>
<div class="info">Posted by Morten Lysgaard on 2011-06-30. </div>
<div class="hide-on-print">
  <div class="info">Tags: .</div>
</div>

      </article>
      <footer class="hide-on-print">© 2011 - <script>document.write(new Date().getFullYear())</script> Morten Lysgaard. Licensed under GPL-v3 or later unless otherwise specified.</footer>

    </body>
</html>

</html>
